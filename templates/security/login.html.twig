{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<header class="blog-header py-3">
    <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-4 text-center">
            <a class="blog-header-logo text-dark" href="{{path('blog')}}">Khechini Blog.</a>
        </div>
    </div>
</header>

<div class="login-form">
    <form action="{{path('security_login')}}" method="post">
        <h2 class="text-center">Sign in</h2>
        {% if error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}
        <div class="form-group">
        	<div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <span class="fa fa-user"></span>
                    </span>
                </div>
                <input type="text" class="form-control" name="_username" id="_username" placeholder="Username" value="{{last_username}}" required>				
            </div>
        </div>
		<div class="form-group">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">
                        <i class="fa fa-lock"></i>
                    </span>
                </div>
                <input type="password" class="form-control" name="_password" id="_password" placeholder="Password" required>				
            </div>
        </div>        
        <div class="form-group">
            <button type="submit" name="login" id="login" class="btn btn-primary login-btn btn-block">Sign in</button>
        </div>
        <input type="hidden" name="_csrf_token" value="{{csrf_token('authenticate')}}">
        <input type="hidden" name="_target_path" value="{{app.request.get('redirect_to')}}">
    </form>
    <p class="text-center text-muted small">Don't have an account? <a href="{{path('register_user')}}">Sign up here!</a></p>
</div>
{% endblock %}